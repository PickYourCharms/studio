<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>My Cart</title>
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  body { margin: 0; padding: 0; font-family: 'Plus Jakarta Sans', sans-serif; background: #fff; color: #111; }
  .header { padding: 16px; border-bottom: 1px solid #eee; display: flex; align-items: center; justify-content: space-between; }
  .header h1 { margin: 0; font-size: 18px; }
  .close-btn { background: none; border: none; font-size: 20px; cursor: pointer; }
  
  .cart-list { padding: 16px; min-height: 60vh; }
  .empty-msg { text-align: center; color: #777; margin-top: 40px; }
  
  .cart-item { display: flex; gap: 14px; margin-bottom: 20px; border-bottom: 1px solid #f5f5f5; padding-bottom: 20px; }
  .item-img { width: 80px; height: 80px; background: #f9f9f9; border-radius: 12px; object-fit: cover; }
  .item-details { flex: 1; }
  .item-title { font-weight: 700; margin: 0 0 4px; font-size: 16px; }
  .item-desc { font-size: 13px; color: #666; margin: 0 0 8px; line-height: 1.4; }
  .item-price { font-weight: 600; font-size: 15px; }

  .footer { border-top: 1px solid #eee; padding: 20px; position: sticky; bottom: 0; background: #fff; }
  .total-row { display: flex; justify-content: space-between; margin-bottom: 16px; font-weight: 700; font-size: 18px; }
  .checkout-btn { width: 100%; background: #000; color: #fff; border: none; padding: 16px; border-radius: 999px; font-size: 16px; cursor: pointer; }
</style>
</head>
<body>

<div class="header">
  <h1>My Cart</h1>
  <button class="close-btn" onclick="window.location.href='index.html'">âœ•</button>
</div>

<div class="cart-list" id="cartList">
  </div>

<div class="footer">
  <div class="total-row">
    <span>Total</span>
    <span id="totalPrice">Rs. 0</span>
  </div>
  <button class="checkout-btn">Checkout</button>
</div>

<script>
  const cartList = document.getElementById('cartList');
  const totalEl = document.getElementById('totalPrice');

  const cart = JSON.parse(localStorage.getItem('pyc_cart') || '[]');

  if (cart.length === 0) {
    cartList.innerHTML = '<div class="empty-msg">Your cart is empty.<br><br><a href="index.html">Start Styling</a></div>';
  } else {
    let total = 0;
    cart.forEach(item => {
      total += item.price;
      
      // Basic Description generation
      let desc = '';
      if(item.type === 'Bracelet') desc = `Metal: ${item.metal}, ${item.charms.length} Charms`;
      else if(item.type === 'Earrings') desc = `Metal: ${item.metal}, Pair`;
      else desc = 'Bracelet + Earrings Bundle';

      const div = document.createElement('div');
      div.className = 'cart-item';
      div.innerHTML = `
        <img src="${item.image}" class="item-img">
        <div class="item-details">
          <h3 class="item-title">${item.type}</h3>
          <p class="item-desc">${desc}</p>
          <div class="item-price">Rs. ${item.price}</div>
        </div>
      `;
      cartList.appendChild(div);
    });
    totalEl.textContent = 'Rs. ' + total;
  }
</script>

</body>
</html>
